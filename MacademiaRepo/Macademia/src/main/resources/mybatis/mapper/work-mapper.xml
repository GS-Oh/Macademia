<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace = "workMapper">

<select id="getMemberAll" resultType="com.kh.md.member.vo.MemberVo">
	 SELECT 
    P.NAME AS POSITION_NAME
    ,P.RANK_NO
    ,D.NAME AS DEPT_NAME
    ,D.UPPER_DEPT
    ,D.LEV
    ,M.NO AS NO
    ,M.NAME AS NAME
    FROM POSITION P
    JOIN DEPT D ON P.DEPT_NO = D.NO
    JOIN MEMBER M ON M.POSITION_NO = P.NO


</select>

<select id="getDeptMember" resultType="com.kh.md.member.vo.MemberVo">
	 SELECT 
    P.NAME AS POSITION_NAME
    ,P.RANK_NO
    ,D.NAME AS DEPT_NAME
    ,D.UPPER_DEPT
    ,D.LEV
    ,M.NO AS NO
    ,M.NAME AS NAME
    FROM POSITION P
    JOIN DEPT D ON P.DEPT_NO = D.NO
    JOIN MEMBER M ON M.POSITION_NO = P.NO
    WHERE D.NO = #{deptNo}
</select>
	
</mapper>
